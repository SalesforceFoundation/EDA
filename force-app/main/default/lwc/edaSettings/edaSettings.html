<template>
    <div class="slds-grid slds-wrap eda-height_full">
        <div class="slds-col slds-size_12-of-12 slds-var-m-bottom_small">
            <lightning-card>
                <h3 slot="title">
                    <div class="slds-grid">
                        <div class="slds-col">
                            <lightning-icon icon-name="custom:custom64" size="large"></lightning-icon>
                        </div>
                        <div class="slds-col slds-grid slds-wrap slds-text-align_left slds-var-p-horizontal_small">
                            <div class="slds-col slds-size_1-of-1 slds-text-title_caps">
                                <a href="javascript:void(0);" onclick={handleSettingsClick}
                                    >{labelReference.edcSettings}</a
                                >
                            </div>
                            <div
                                class="slds-col slds-size_1-of-1 slds-text-heading_medium"
                                data-qa-locator="edaSettingsTitle"
                            >
                                {labelReference.edaSettings}
                            </div>
                        </div>
                    </div>
                </h3>
            </lightning-card>
        </div>
        <template if:false={currentUserHasAccessWireResolved}>
            <div class="slds-col slds-size_12-of-12 slds-theme_default">
                <lightning-spinner
                    alternative-text={labelReference.spinnerLoadingAltText}
                    variant="brand"
                    size="large"
                ></lightning-spinner>
            </div>
        </template>
        <template if:true={currentUserHasAccessWireResolved}>
            <template if:false={currentUserHasAccess}>
                <div
                    class="slds-col slds-size_12-of-12 slds-theme_default slds-var-p-around_small slds-no-flex eda-height_full"
                    data-testid="eda-settings-error-insufficient-access"
                >
                    {labelReference.insufficientAccessError}
                </div></template
            >
            <template if:true={currentUserHasAccess}>
                <div
                    class="
                        slds-col
                        slds-size_4-of-12
                        slds-no-flex
                        slds-scrollable_y
                        slds-var-p-top_x-small
                        slds-theme_default
                        eda-height_full
                    "
                    data-qa-locator="edaSettingsNavigation"
                >
                    <c-eda-settings-navigation
                        onsettingsnavigation={handleSettingsNavigation}
                        active-page={activePage}
                    ></c-eda-settings-navigation>
                </div>
                <div
                    class="
                        slds-col
                        slds-size_8-of-12
                        slds-no-flex
                        slds-scrollable_y
                        slds-var-p-top_large
                        slds-var-p-left_small
                        slds-theme_default
                        eda-height_full
                    "
                    data-qa-locator="edaSettingsPage"
                >
                    <template if:true={settingsPageToDisplay.accountModelSettings}>
                        <c-account-model-settings
                            class="eda-settings-page"
                            onsavecanvasrendered={handleSaveCanvasRendered}
                        ></c-account-model-settings>
                    </template>

                    <template if:true={settingsPageToDisplay.addressSettings}>
                        <c-address-settings
                            class="eda-settings-page"
                            onsavecanvasrendered={handleSaveCanvasRendered}
                        ></c-address-settings>
                    </template>

                    <template if:true={settingsPageToDisplay.affiliationSettings}>
                        <c-affiliation-settings
                            class="eda-settings-page"
                            onsavecanvasrendered={handleSaveCanvasRendered}
                        ></c-affiliation-settings>
                    </template>

                    <template if:true={settingsPageToDisplay.contactInformationSettings}>
                        <c-contact-information-settings
                            class="eda-settings-page"
                            onsavecanvasrendered={handleSaveCanvasRendered}
                        ></c-contact-information-settings>
                    </template>

                    <template if:true={settingsPageToDisplay.relationshipSettings}>
                        <c-relationship-settings
                            class="eda-settings-page"
                            onsavecanvasrendered={handleSaveCanvasRendered}
                        ></c-relationship-settings>
                    </template>

                    <template if:true={settingsPageToDisplay.errorSettings}>
                        <c-error-settings
                            class="eda-settings-page"
                            onsavecanvasrendered={handleSaveCanvasRendered}
                        ></c-error-settings>
                    </template>

                    <template if:true={settingsPageToDisplay.systemTools}>
                        <c-system-tools
                            class="eda-settings-page"
                            onsavecanvasrendered={handleSaveCanvasRendered}
                        ></c-system-tools>
                    </template>

                    <template if:true={settingsPageToDisplay.programSettings}>
                        <c-program-settings
                            class="eda-settings-page"
                            onsavecanvasrendered={handleSaveCanvasRendered}
                        ></c-program-settings>
                    </template>

                    <template if:true={settingsPageToDisplay.programPlanSettings}>
                        <c-program-plan-settings
                            class="eda-settings-page"
                            onsavecanvasrendered={handleSaveCanvasRendered}
                        ></c-program-plan-settings>
                    </template>

                    <template if:true={settingsPageToDisplay.courseConnectionSettings}>
                        <c-course-connection-settings
                            class="eda-settings-page"
                            onsavecanvasrendered={handleSaveCanvasRendered}
                        ></c-course-connection-settings>
                    </template>

                    <template if:true={settingsPageToDisplay.applicationSettings}>
                        <c-application-settings
                            class="eda-settings-page"
                            onsavecanvasrendered={handleSaveCanvasRendered}
                        ></c-application-settings>
                    </template>
                </div>
            </template>
        </template>
    </div>
</template>
