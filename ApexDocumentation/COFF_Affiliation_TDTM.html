<html><head><script type='text/javascript' src='https://code.jquery.com/jquery-1.11.1.js'></script><script type='text/javascript' src='CollapsibleList.js'></script><script type='text/javascript' src='ApexDoc.js'></script><link rel='stylesheet' type='text/css' href='ApexDoc.css' /> </head><body><body><div class='topsection'><table><tr><td style="text-align: top;"><img src="../HedaLogo.png" style="height: 75px;" /></td><td style="padding-left: 20px; padding-top: 20px;"><h2>HEDA Codebase Documentation</h2><a href="https://github.com/SalesforceFoundation/HEDAP"><img style="position: absolute; top: 0; left: 0; border: 0;"src="https://camo.githubusercontent.com/82b228a3648bf44fc1163ef44c62fcc60081495e/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f7265645f6161303030302e706e67"alt="Fork me on GitHub"data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_red_aa0000.png"></a></td></tr></table></div><table width='100%'><tr><td colspan='2' style='text-align: center;' >Show: <input type='checkbox' checked='checked' id='cbxglobal' onclick='ToggleScope("global", this.checked );'>global</input>&nbsp;&nbsp;<input type='checkbox' checked='checked' id='cbxpublic' onclick='ToggleScope("public", this.checked );'>public</input>&nbsp;&nbsp;<input type='checkbox' checked='checked' id='cbxprivate' onclick='ToggleScope("private", this.checked );'>private</input>&nbsp;&nbsp;<input type='checkbox' checked='checked' id='cbxtestmethod' onclick='ToggleScope("testmethod", this.checked );'>testmethod</input>&nbsp;&nbsp;<input type='checkbox' checked='checked' id='cbxwebService' onclick='ToggleScope("webService", this.checked );'>webService</input>&nbsp;&nbsp;</td></tr><tr style='vertical-align:top;' ><td width='20%' vertical-align='top' ><div class='sidebar'><div class='navbar'><nav role='navigation'><ul id='mynavbar'><li id='idMenuindex'><a href='.' onclick="gotomenu('index.html', event);return false;" class='nav-item'>Home</a></li><li class='header' id='idMenunull'><a class='nav-item nav-section-title' href='.' onclick="gotomenu(document.location.href, event);return false;" class='nav-item'>Accounts<span class='caret'></span></a></li><ul><li class='subitem classscopepublic' id='idMenuACCT_IndividualAccounts_TDTM'><a href='.' onclick="gotomenu('ACCT_IndividualAccounts_TDTM.html', event);return false;" class='nav-item sub-nav-item scopepublic'>ACCT_IndividualAccounts_TDTM</a></li><li class='subitem classscopeprivate' id='idMenuACCT_IndividualAccounts_TEST'><a href='.' onclick="gotomenu('ACCT_IndividualAccounts_TEST.html', event);return false;" class='nav-item sub-nav-item scopeprivate'>ACCT_IndividualAccounts_TEST</a></li><li class='subitem classscopepublic' id='idMenuCAO_Constants'><a href='.' onclick="gotomenu('CAO_Constants.html', event);return false;" class='nav-item sub-nav-item scopepublic'>CAO_Constants</a></li></ul><li class='header' id='idMenuAddresses'><a class='nav-item nav-section-title' href='.' onclick="gotomenu('Addresses.html', event);return false;" class='nav-item'>Address Management<span class='caret'></span></a></li><ul><li class='subitem classscopepublic' id='idMenuADDR_Account_TDTM'><a href='.' onclick="gotomenu('ADDR_Account_TDTM.html', event);return false;" class='nav-item sub-nav-item scopepublic'>ADDR_Account_TDTM</a></li><li class='subitem classscopepublic' id='idMenuADDR_Addresses_TDTM'><a href='.' onclick="gotomenu('ADDR_Addresses_TDTM.html', event);return false;" class='nav-item sub-nav-item scopepublic'>ADDR_Addresses_TDTM</a></li><li class='subitem classscopeprivate' id='idMenuADDR_Addresses_TEST'><a href='.' onclick="gotomenu('ADDR_Addresses_TEST.html', event);return false;" class='nav-item sub-nav-item scopeprivate'>ADDR_Addresses_TEST</a></li><li class='subitem classscopepublic' id='idMenuADDR_Contact_TDTM'><a href='.' onclick="gotomenu('ADDR_Contact_TDTM.html', event);return false;" class='nav-item sub-nav-item scopepublic'>ADDR_Contact_TDTM</a></li><li class='subitem classscopepublic' id='idMenuADDR_Seasonal_BATCH'><a href='.' onclick="gotomenu('ADDR_Seasonal_BATCH.html', event);return false;" class='nav-item sub-nav-item scopepublic'>ADDR_Seasonal_BATCH</a></li><li class='subitem classscopepublic' id='idMenuADDR_Seasonal_SCHED'><a href='.' onclick="gotomenu('ADDR_Seasonal_SCHED.html', event);return false;" class='nav-item sub-nav-item scopepublic'>ADDR_Seasonal_SCHED</a></li></ul><li class='header' id='idMenunull'><a class='nav-item nav-section-title' href='.' onclick="gotomenu(document.location.href, event);return false;" class='nav-item'>Affiliation Management<span class='caret'></span></a></li><ul><li class='subitem classscopepublic' id='idMenuAFFL_AccRecordType_TEST'><a href='.' onclick="gotomenu('AFFL_AccRecordType_TEST.html', event);return false;" class='nav-item sub-nav-item scopepublic'>AFFL_AccRecordType_TEST</a></li><li class='subitem classscopepublic' id='idMenuAFFL_MultiRecordType_TEST'><a href='.' onclick="gotomenu('AFFL_MultiRecordType_TEST.html', event);return false;" class='nav-item sub-nav-item scopepublic'>AFFL_MultiRecordType_TEST</a></li><li class='subitem classscopepublic' id='idMenuTHAN_Filter_TEST'><a href='.' onclick="gotomenu('THAN_Filter_TEST.html', event);return false;" class='nav-item sub-nav-item scopepublic'>THAN_Filter_TEST</a></li></ul><li class='header' id='idMenunull'><a class='nav-item nav-section-title' href='.' onclick="gotomenu(document.location.href, event);return false;" class='nav-item'>Affiliations<span class='caret'></span></a></li><ul><li class='subitem classscopepublic' id='idMenuAFFL_AccRecordType_TDTM'><a href='.' onclick="gotomenu('AFFL_AccRecordType_TDTM.html', event);return false;" class='nav-item sub-nav-item scopepublic'>AFFL_AccRecordType_TDTM</a></li><li class='subitem classscopepublic' id='idMenuAFFL_MultiRecordType_TDTM'><a href='.' onclick="gotomenu('AFFL_MultiRecordType_TDTM.html', event);return false;" class='nav-item sub-nav-item scopepublic'>AFFL_MultiRecordType_TDTM</a></li><li class='subitem classscopepublic' id='idMenuAFFL_MultiRecordTypeMapper'><a href='.' onclick="gotomenu('AFFL_MultiRecordTypeMapper.html', event);return false;" class='nav-item sub-nav-item scopepublic'>AFFL_MultiRecordTypeMapper</a></li></ul><li class='header' id='idMenuContacts'><a class='nav-item nav-section-title' href='.' onclick="gotomenu('Contacts.html', event);return false;" class='nav-item'>Contacts<span class='caret'></span></a></li><ul><li class='subitem classscopepublic' id='idMenuCON_DoNotContact_TDTM'><a href='.' onclick="gotomenu('CON_DoNotContact_TDTM.html', event);return false;" class='nav-item sub-nav-item scopepublic'>CON_DoNotContact_TDTM</a></li><li class='subitem classscopeprivate' id='idMenuCON_DoNotContact_TEST'><a href='.' onclick="gotomenu('CON_DoNotContact_TEST.html', event);return false;" class='nav-item sub-nav-item scopeprivate'>CON_DoNotContact_TEST</a></li><li class='subitem classscopepublic' id='idMenuCON_Preferred_TDTM'><a href='.' onclick="gotomenu('CON_Preferred_TDTM.html', event);return false;" class='nav-item sub-nav-item scopepublic'>CON_Preferred_TDTM</a></li></ul><li class='header' id='idMenunull'><a class='nav-item nav-section-title' href='.' onclick="gotomenu(document.location.href, event);return false;" class='nav-item'>Course Offering<span class='caret'></span></a></li><ul><li class='subitem classscopepublic' id='idMenuCOFF_Affiliation_TDTM'><a href='.' onclick="gotomenu('COFF_Affiliation_TDTM.html', event);return false;" class='nav-item sub-nav-item scopepublic'>COFF_Affiliation_TDTM</a></li><li class='subitem classscopepublic' id='idMenuCOFF_Affiliation_TEST'><a href='.' onclick="gotomenu('COFF_Affiliation_TEST.html', event);return false;" class='nav-item sub-nav-item scopepublic'>COFF_Affiliation_TEST</a></li></ul><li class='header' id='idMenuErrorHandling'><a class='nav-item nav-section-title' href='.' onclick="gotomenu('ErrorHandling.html', event);return false;" class='nav-item'>ErrorHandling<span class='caret'></span></a></li><ul><li class='subitem classscopepublic' id='idMenuERR_Handler'><a href='.' onclick="gotomenu('ERR_Handler.html', event);return false;" class='nav-item sub-nav-item scopepublic'>ERR_Handler</a></li><li class='subitem classscopepublic' id='idMenuERR_Notifier'><a href='.' onclick="gotomenu('ERR_Notifier.html', event);return false;" class='nav-item sub-nav-item scopepublic'>ERR_Notifier</a></li></ul><li class='header' id='idMenunull'><a class='nav-item nav-section-title' href='.' onclick="gotomenu(document.location.href, event);return false;" class='nav-item'>Miscellaneous<span class='caret'></span></a></li><ul><li class='subitem classscopepublic' id='idMenuCON_Preferred_TEST'><a href='.' onclick="gotomenu('CON_Preferred_TEST.html', event);return false;" class='nav-item sub-nav-item scopepublic'>CON_Preferred_TEST</a></li><li class='subitem classscopepublic' id='idMenuCON_PrimaryAffls_TEST'><a href='.' onclick="gotomenu('CON_PrimaryAffls_TEST.html', event);return false;" class='nav-item sub-nav-item scopepublic'>CON_PrimaryAffls_TEST</a></li><li class='subitem classscopepublic' id='idMenuERR_Handler_TEST'><a href='.' onclick="gotomenu('ERR_Handler_TEST.html', event);return false;" class='nav-item sub-nav-item scopepublic'>ERR_Handler_TEST</a></li><li class='subitem classscopepublic' id='idMenuREL_ProcessControl'><a href='.' onclick="gotomenu('REL_ProcessControl.html', event);return false;" class='nav-item sub-nav-item scopepublic'>REL_ProcessControl</a></li><li class='subitem classscopepublic' id='idMenuREL_Relationships_Cm_TDTM'><a href='.' onclick="gotomenu('REL_Relationships_Cm_TDTM.html', event);return false;" class='nav-item sub-nav-item scopepublic'>REL_Relationships_Cm_TDTM</a></li><li class='subitem classscopepublic' id='idMenuREL_Relationships_Con_TDTM'><a href='.' onclick="gotomenu('REL_Relationships_Con_TDTM.html', event);return false;" class='nav-item sub-nav-item scopepublic'>REL_Relationships_Con_TDTM</a></li><li class='subitem classscopepublic' id='idMenuREL_Relationships_TDTM'><a href='.' onclick="gotomenu('REL_Relationships_TDTM.html', event);return false;" class='nav-item sub-nav-item scopepublic'>REL_Relationships_TDTM</a></li><li class='subitem classscopepublic' id='idMenuREL_Relationships_TEST'><a href='.' onclick="gotomenu('REL_Relationships_TEST.html', event);return false;" class='nav-item sub-nav-item scopepublic'>REL_Relationships_TEST</a></li><li class='subitem classscopepublic' id='idMenuREL_Utils'><a href='.' onclick="gotomenu('REL_Utils.html', event);return false;" class='nav-item sub-nav-item scopepublic'>REL_Utils</a></li><li class='subitem classscopepublic' id='idMenuTDTM_TriggerScaffolds_TEST'><a href='.' onclick="gotomenu('TDTM_TriggerScaffolds_TEST.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TDTM_TriggerScaffolds_TEST</a></li></ul><li class='header' id='idMenunull'><a class='nav-item nav-section-title' href='.' onclick="gotomenu(document.location.href, event);return false;" class='nav-item'>Program Enrollment<span class='caret'></span></a></li><ul><li class='subitem classscopepublic' id='idMenuCON_PrimaryAffls_TDTM'><a href='.' onclick="gotomenu('CON_PrimaryAffls_TDTM.html', event);return false;" class='nav-item sub-nav-item scopepublic'>CON_PrimaryAffls_TDTM</a></li><li class='subitem classscopepublic' id='idMenuPREN_Affiliation_TDTM'><a href='.' onclick="gotomenu('PREN_Affiliation_TDTM.html', event);return false;" class='nav-item sub-nav-item scopepublic'>PREN_Affiliation_TDTM</a></li><li class='subitem classscopepublic' id='idMenuPREN_Affiliation_TEST'><a href='.' onclick="gotomenu('PREN_Affiliation_TEST.html', event);return false;" class='nav-item sub-nav-item scopepublic'>PREN_Affiliation_TEST</a></li></ul><li class='header' id='idMenunull'><a class='nav-item nav-section-title' href='.' onclick="gotomenu(document.location.href, event);return false;" class='nav-item'>Settings<span class='caret'></span></a></li><ul><li class='subitem classscopeglobal' id='idMenuSTG_InstallScript'><a href='.' onclick="gotomenu('STG_InstallScript.html', event);return false;" class='nav-item sub-nav-item scopeglobal'>STG_InstallScript</a></li><li class='subitem classscopepublic' id='idMenuSTG_InstallScript_TEST'><a href='.' onclick="gotomenu('STG_InstallScript_TEST.html', event);return false;" class='nav-item sub-nav-item scopepublic'>STG_InstallScript_TEST</a></li></ul><li class='header' id='idMenuTDTM'><a class='nav-item nav-section-title' href='.' onclick="gotomenu('TDTM.html', event);return false;" class='nav-item'>TDTM<span class='caret'></span></a></li><ul><li class='subitem classscopepublic' id='idMenuTDTM_DefaultConfig'><a href='.' onclick="gotomenu('TDTM_DefaultConfig.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TDTM_DefaultConfig</a></li><li class='subitem classscopepublic' id='idMenuTDTM_Filter'><a href='.' onclick="gotomenu('TDTM_Filter.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TDTM_Filter</a></li><li class='subitem classscopepublic' id='idMenuTDTM_Filter_TEST'><a href='.' onclick="gotomenu('TDTM_Filter_TEST.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TDTM_Filter_TEST</a></li><li class='subitem classscopepublic' id='idMenuTDTM_ObjectDataGateway'><a href='.' onclick="gotomenu('TDTM_ObjectDataGateway.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TDTM_ObjectDataGateway</a></li><li class='subitem classscopeglobal' id='idMenuTDTM_Runnable'><a href='.' onclick="gotomenu('TDTM_Runnable.html', event);return false;" class='nav-item sub-nav-item scopeglobal'>TDTM_Runnable</a></li><li class='subitem classscopepublic' id='idMenuTDTM_TriggerActionHelper'><a href='.' onclick="gotomenu('TDTM_TriggerActionHelper.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TDTM_TriggerActionHelper</a></li><li class='subitem classscopepublic' id='idMenuTDTM_TriggerHandler'><a href='.' onclick="gotomenu('TDTM_TriggerHandler.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TDTM_TriggerHandler</a></li><li class='subitem classscopepublic' id='idMenuTHAN_Filter_TDTM'><a href='.' onclick="gotomenu('THAN_Filter_TDTM.html', event);return false;" class='nav-item sub-nav-item scopepublic'>THAN_Filter_TDTM</a></li></ul><li class='header' id='idMenunull'><a class='nav-item nav-section-title' href='.' onclick="gotomenu(document.location.href, event);return false;" class='nav-item'>Term<span class='caret'></span></a></li><ul><li class='subitem classscopepublic' id='idMenuTERM_CourseOff_TDTM'><a href='.' onclick="gotomenu('TERM_CourseOff_TDTM.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TERM_CourseOff_TDTM</a></li><li class='subitem classscopepublic' id='idMenuTERM_CourseOff_TEST'><a href='.' onclick="gotomenu('TERM_CourseOff_TEST.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TERM_CourseOff_TEST</a></li></ul><li class='header' id='idMenunull'><a class='nav-item nav-section-title' href='.' onclick="gotomenu(document.location.href, event);return false;" class='nav-item'>Utilities<span class='caret'></span></a></li><ul><li class='subitem classscopepublic' id='idMenuUTIL_CustomSettingsFacade'><a href='.' onclick="gotomenu('UTIL_CustomSettingsFacade.html', event);return false;" class='nav-item sub-nav-item scopepublic'>UTIL_CustomSettingsFacade</a></li><li class='subitem classscopepublic' id='idMenuUTIL_CustomSettingsFacade_TEST'><a href='.' onclick="gotomenu('UTIL_CustomSettingsFacade_TEST.html', event);return false;" class='nav-item sub-nav-item scopepublic'>UTIL_CustomSettingsFacade_TEST</a></li><li class='subitem classscopepublic' id='idMenuUTIL_Debug'><a href='.' onclick="gotomenu('UTIL_Debug.html', event);return false;" class='nav-item sub-nav-item scopepublic'>UTIL_Debug</a></li><li class='subitem classscopepublic' id='idMenuUTIL_Describe'><a href='.' onclick="gotomenu('UTIL_Describe.html', event);return false;" class='nav-item sub-nav-item scopepublic'>UTIL_Describe</a></li><li class='subitem classscopepublic' id='idMenuUTIL_Describe_TEST'><a href='.' onclick="gotomenu('UTIL_Describe_TEST.html', event);return false;" class='nav-item sub-nav-item scopepublic'>UTIL_Describe_TEST</a></li><li class='subitem classscopepublic' id='idMenuUTIL_Namespace'><a href='.' onclick="gotomenu('UTIL_Namespace.html', event);return false;" class='nav-item sub-nav-item scopepublic'>UTIL_Namespace</a></li><li class='subitem classscopepublic' id='idMenuUTIL_Namespace_TEST'><a href='.' onclick="gotomenu('UTIL_Namespace_TEST.html', event);return false;" class='nav-item sub-nav-item scopepublic'>UTIL_Namespace_TEST</a></li><li class='subitem classscopepublic' id='idMenuUTIL_UnitTestData_TEST'><a href='.' onclick="gotomenu('UTIL_UnitTestData_TEST.html', event);return false;" class='nav-item sub-nav-item scopepublic'>UTIL_UnitTestData_TEST</a></li></ul></ul></nav></div></div></div></td><td class='contentTD'><h2 class='section-title'><a target='_blank' class='hostedSourceLink' href='https://github.com/SalesforceFoundation/HEDAP/blob/beta/1.1-Beta_25/src/classes/COFF_Affiliation_TDTM.cls#L36'>COFF_Affiliation_TDTM</a></h2><div class='classSignature'><a target='_blank' class='hostedSourceLink' href='https://github.com/SalesforceFoundation/HEDAP/blob/beta/1.1-Beta_25/src/classes/COFF_Affiliation_TDTM.cls#L36'>public class COFF_Affiliation_TDTM extends TDTM_Runnable</a></div><div class='classDetails'>Keeps Course Offering and Affiliation records for a Contact in sync.<br/><br/>Salesforce.org<br/>2015</div><p/><h2 class='subsection-title'>Properties</h2><div class='subsection-container'> <table class='properties' > <tr class='propertyscopepublic'><td class='clsPropertyName'>hasRunCoffTrigger</td><td><div class='clsPropertyDeclaration'><a target='_blank' class='hostedSourceLink' href='https://github.com/SalesforceFoundation/HEDAP/blob/beta/1.1-Beta_25/src/classes/COFF_Affiliation_TDTM.cls#L41'>public static boolean hasRunCoffTrigger</a></div><div class='clsPropertyDescription'>static flag to prevent recursive call</div></tr></table></div><p/><h2 class='subsection-title'>Methods</h2><div class='subsection-container'> <ul class='methodTOC'><li class='methodscopepublic' ><a class='methodTOCEntry' href='#afflToDptExists'>afflToDptExists</a><div class='methodTOCDescription'>Determins whether an Affiliation to the Department the Course Offering belongs to already exists for each faculty member. Public only so it can be called from the tests.</div></li><li class='methodscopeprivate' ><a class='methodTOCEntry' href='#createAffls'>createAffls</a><div class='methodTOCDescription'>Creates Affiliation records for Faculty members assigned to Course Offerings, if no Affiliation existed for the department the Course Offering belongs to. Also, it links the automatically created Course Enrollments to the automatically created Affiliations.</div></li><li class='methodscopeprivate' ><a class='methodTOCEntry' href='#deleteAfflsEnrolls'>deleteAfflsEnrolls</a><div class='methodTOCDescription'>Deletes the Affiliations that had been automatically created from the Course Enrollments with assigned Faculty members. Also deletes the Course Enrollments themselves.</div></li><li class='methodscopepublic' ><a class='methodTOCEntry' href='#getAfflsForContact'>getAfflsForContact</a><div class='methodTOCDescription'>Returns a map with the Contact ID of each faculty member as the key, and all its Affiliations as the values. Public only so it can be called from the tests.</div></li><li class='methodscopeprivate' ><a class='methodTOCEntry' href='#getAfflsToUpdate'>getAfflsToUpdate</a><div class='methodTOCDescription'>Sets each Affiliation pointing to the new Faculty member that is teaching the Course Offering.</div></li><li class='methodscopepublic' ><a class='methodTOCEntry' href='#run'>run</a><div class='methodTOCDescription'>Handles Affiliation management for Course Offering. Populates Start and End Date from Term, if fields are empty.</div></li><li class='methodscopeprivate' ><a class='methodTOCEntry' href='#updateEnrollments'>updateEnrollments</a><div class='methodTOCDescription'>Updates each Course Enrollment from the old Faculty member to the new Faculty member. A Faculty member should not be at the same time teaching and attending a course, so querying for all outdatedFacultyIDs should be ok.</div></li></ul><div class='methodscopepublic' ><h2 class='methodHeader'><a id='afflToDptExists'/>afflToDptExists</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='https://github.com/SalesforceFoundation/HEDAP/blob/beta/1.1-Beta_25/src/classes/COFF_Affiliation_TDTM.cls#L299'>public Boolean afflToDptExists(Course_Offering__c offering, Map&#60;ID, List&#60;Affiliation__c&#62;&#62; facultyIDtoAffls)</a></div><div class='methodDescription'>Determins whether an Affiliation to the Department the Course Offering belongs to already exists for each faculty member. Public only so it can be called from the tests.</div></div><div class='methodscopeprivate' ><h2 class='methodHeader'><a id='createAffls'/>createAffls</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='https://github.com/SalesforceFoundation/HEDAP/blob/beta/1.1-Beta_25/src/classes/COFF_Affiliation_TDTM.cls#L177'>private void createAffls(List&#60;Course_Offering__c&#62; offsWithNewFaculty, List&#60;ID&#62; newFacultyIDs, List&#60;Course_Enrollment__c&#62; courseEnrllsToInsert)</a></div><div class='methodDescription'>Creates Affiliation records for Faculty members assigned to Course Offerings, if no Affiliation existed for the department the Course Offering belongs to. Also, it links the automatically created Course Enrollments to the automatically created Affiliations.</div></div><div class='methodscopeprivate' ><h2 class='methodHeader'><a id='deleteAfflsEnrolls'/>deleteAfflsEnrolls</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='https://github.com/SalesforceFoundation/HEDAP/blob/beta/1.1-Beta_25/src/classes/COFF_Affiliation_TDTM.cls#L251'>private void deleteAfflsEnrolls(List&#60;ID&#62; removedFacultyIDs, DmlWrapper dmlWrapper)</a></div><div class='methodDescription'>Deletes the Affiliations that had been automatically created from the Course Enrollments with assigned Faculty members. Also deletes the Course Enrollments themselves.</div></div><div class='methodscopepublic' ><h2 class='methodHeader'><a id='getAfflsForContact'/>getAfflsForContact</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='https://github.com/SalesforceFoundation/HEDAP/blob/beta/1.1-Beta_25/src/classes/COFF_Affiliation_TDTM.cls#L265'>public Map&#60;ID, List&#60;Affiliation__c&#62;&#62; getAfflsForContact(List&#60;ID&#62; newFacultyIDs)</a></div><div class='methodDescription'>Returns a map with the Contact ID of each faculty member as the key, and all its Affiliations as the values. Public only so it can be called from the tests.</div></div><div class='methodscopeprivate' ><h2 class='methodHeader'><a id='getAfflsToUpdate'/>getAfflsToUpdate</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='https://github.com/SalesforceFoundation/HEDAP/blob/beta/1.1-Beta_25/src/classes/COFF_Affiliation_TDTM.cls#L211'>private List&#60;SObject&#62; getAfflsToUpdate(List&#60;ID&#62; outdatedFacultyIDs, List&#60;ID&#62; updatedFacultyIDs)</a></div><div class='methodDescription'>Sets each Affiliation pointing to the new Faculty member that is teaching the Course Offering.</div></div><div class='methodscopepublic' ><h2 class='methodHeader'><a id='run'/>run</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='https://github.com/SalesforceFoundation/HEDAP/blob/beta/1.1-Beta_25/src/classes/COFF_Affiliation_TDTM.cls#L53'>public override DmlWrapper run(List&#60;SObject&#62; newlist, List&#60;SObject&#62; oldlist,    TDTM_Runnable.Action triggerAction, Schema.DescribeSObjectResult objResult)</a></div><div class='methodDescription'>Handles Affiliation management for Course Offering. Populates Start and End Date from Term, if fields are empty.</div><div class='methodSubTitle'>Parameters</div><div class='paramName'>listNew</div><div class='paramDescription'>the list of Accounts from trigger new.</div><div class='paramName'>listOld</div><div class='paramDescription'>the list of Accounts from trigger old.</div><div class='paramName'>triggerAction</div><div class='paramDescription'>which trigger event (BeforeInsert, AfterInsert, etc.).</div><div class='paramName'>objResult</div><div class='paramDescription'>the describe for Course Offering.</div><div class='methodSubTitle'>Return Value</div><div class='methodReturns'>dmlWrapper.</div></div><div class='methodscopeprivate' ><h2 class='methodHeader'><a id='updateEnrollments'/>updateEnrollments</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='https://github.com/SalesforceFoundation/HEDAP/blob/beta/1.1-Beta_25/src/classes/COFF_Affiliation_TDTM.cls#L232'>private void updateEnrollments(List&#60;ID&#62; outdatedFacultyIDs, List&#60;ID&#62; updatedFacultyIDs, DmlWrapper dmlWrapper)</a></div><div class='methodDescription'>Updates each Course Enrollment from the old Faculty member to the new Faculty member. A Faculty member should not be at the same time teaching and attending a course, so querying for all outdatedFacultyIDs should be ok.</div></div></div></div></div></div></td></tr></table><hr/><center style='font-size:.8em;'><a href='http://github.com/SalesforceFoundation/ApexDoc' target='_blank'>Powered By ApexDoc</a></center></body></html>